<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.min.js"></script>

</head>

<body>
  <div id="div1">
    <div>
      <label for="height_input">高度：</label>
      <input id="height_input" type="text" placeholder="500">
    </div>
    <div>
      <label for="width_input">宽度：</label>
      <input id="width_input" type="text" placeholder="500">
    </div>
    <div>
      <label for="str_input">内容：</label>
      <input id="str_input" type="text" placeholder="content">
    </div>
    <div>
      <label for="bgc_input">背景色：</label>
      <input id="bgc_input" class="jscolor" value="eeeeee">
    </div>
    <div>
      <label for="color_input">文本色：</label>
      <input id="color_input" class="jscolor" value="000000">
    </div>
  </div>
  <button onclick="creatImg()" class="btn btn-lg btn-success">生成</button>
  <hr>
  <div id="div2">
    <img id="img" src="">
  </div>
  <script>
    function creatImg() {
      $.ajax({
        url: "http://localhost:3333/mockapi/image",
        type: 'post',
        data: {
          str: $('#str_input').val(),
          height: $('#height_input').val(),
          width: $('#width_input').val(),
          bgc: '#' + $('#bgc_input').val(),
          color: '#' + $('#color_input').val(),
        },
        success: function (res) {
          $('#img').attr('src', res.data)
        }
      })
    }
  </script>
</body>

</html>