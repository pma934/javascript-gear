<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Js在线编辑器</title>
<style>
img {
	width:100px;
	height:100px;
	border: black solid 1px;
}

textarea {
	width: 99%;
}

@media ( min-width : 1080px) {
	textarea {
		width: 49%;
	}
}
</style>
</head>
<body>
	<button id="run" style="display: block;">run</button>
	<textarea id="runjs" rows="20" style="resize: none;"></textarea>
	<textarea id="result" rows="20"
		style="background-color: #FAFAFA; resize: none;" disabled="disabled"></textarea>
	<div id="menu" style="margin-top: 55px;">
		<a href="game_menu.html"><img src="./static/img/flash.jpg"></img></a>
		<a href="chat.html"><img src="./static/img/聊天室.jpg"></img></a>
	</div>
</body>
<script src="./static/js/jquery-3.0.0.min.js"></script>
<script type="text/javascript">
	var zxz_console_log = window.console.log;
	window.console.log =  function(x){//重写console.log
		document.getElementById("result").value += `${x}
`;
		return zxz_console_log(x);
	}
	
	document.getElementById("run").addEventListener("click", function() {
		document.getElementById("result").style.color="black";
		document.getElementById("result").value = "";
		var str = document.getElementById("runjs").value;
		try{
			eval(str);
		} catch(error){
			document.getElementById("result").style.color="red";
			document.getElementById("result").value += `${error}
`;
			eval(str);
		}	
	})
</script>
</html>